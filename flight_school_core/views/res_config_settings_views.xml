<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
    Flight School Configuration
    ===========================
    Module-level defaults exposed through the Settings menu.
    -->

    <record id="flight_school_core_res_config_settings_view_form" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.flight.school</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app data-string="Flight School" string="Flight School" name="flight_school_core">
                    <block title="Flight School Defaults" name="flight_school_defaults">
                        <setting id="fs_default_home_base_setting" title="Default Home Base" help="ICAO airport code used as the default home base for new aircraft.">
                            <field name="fs_default_home_base"/>
                        </setting>
                        <setting id="fs_medical_warning_days_setting" title="Medical Warning Threshold" help="Days before expiry to trigger warnings.">
                            <field name="fs_medical_warning_days"/>
                        </setting>
                    </block>
                    <block title="Instruction Limits" name="instruction_limits">
                        <setting id="fs_default_max_students_setting" title="Default Max Students" help="Number of students assigned by default when creating new instructors.">
                            <field name="fs_default_max_students"/>
                        </setting>
                        <setting id="fs_default_max_hours_month_setting" title="Default Max Hours / Month" help="Monthly instruction-hour limit suggested for new instructors.">
                            <field name="fs_default_max_hours_per_month" widget="float_time"/>
                        </setting>
                        <setting id="fs_default_max_hours_3months_setting" title="Default Max Hours / 3 Months" help="Rolling 3-month instruction-hour limit suggested for new instructors.">
                            <field name="fs_default_max_hours_per_3months" widget="float_time"/>
                        </setting>
                        <setting id="fs_class_end_warning_days_setting" title="Class End Warning Threshold" help="Days before planned end date to highlight students nearing class completion.">
                            <field name="fs_training_class_end_warning_days"/>
                        </setting>
                    </block>
                </app>
            </xpath>
        </field>
    </record>

    <record id="action_fs_config_settings" model="ir.actions.act_window">
        <field name="name">Flight School Settings</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="view_id" ref="flight_school_core_res_config_settings_view_form"/>
        <field name="context">{'default_fs_default_home_base': 'DTTI'}</field>
    </record>
</odoo>
